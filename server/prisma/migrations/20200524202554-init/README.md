# Migration `20200524202554-init`

This migration has been generated by iamchets at 5/24/2020, 8:25:54 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."User" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" SERIAL,"name" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Habbit" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"description" text  NOT NULL ,"id" SERIAL,"isHabbit" boolean  NOT NULL DEFAULT false,"streak" integer  NOT NULL DEFAULT 0,"title" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"userId" integer   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Thought" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"description" text  NOT NULL ,"id" SERIAL,"updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"userId" integer   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Todo" (
"completed" boolean  NOT NULL DEFAULT false,"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"description" text  NOT NULL ,"id" SERIAL,"title" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"userId" integer   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Exercise" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"description" text   ,"id" SERIAL,"image" text  NOT NULL ,"title" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"userId" integer   ,"weight" integer   ,
    PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "User.name" ON "public"."User"("name")

CREATE UNIQUE INDEX "Habbit.title" ON "public"."Habbit"("title")

CREATE UNIQUE INDEX "Todo.title" ON "public"."Todo"("title")

ALTER TABLE "public"."Habbit" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."Thought" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."Todo" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."Exercise" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200524202554-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,75 @@
+datasource db {
+  provider = "postgresql"
+  url      = env("DATABASE_URL")
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+// model Post {
+// id        Int      @default(autoincrement()) @id
+// createdAt DateTime @default(now())
+// title     String
+// content   String?
+// published Boolean  @default(false)
+// }
+// model Profile {
+// id     Int     @default(autoincrement()) @id
+// bio    String?
+// user   User    @relation(fields: [userId], references: [id])
+// userId Int     @unique
+// }
+model User {
+  id        Int        @default(autoincrement()) @id
+  name      String?    @unique
+  habbits   Habbit[]
+  thoughts  Thought[]
+  todos     Todo[]
+  exercises Exercise[]
+  createdAt DateTime   @default(now())
+}
+
+model Habbit {
+  id          Int      @default(autoincrement()) @id
+  title       String   @unique
+  description String
+  streak      Int      @default(0)
+  isHabbit    Boolean  @default(false)
+  User        User?    @relation(fields: [userId], references: [id])
+  userId      Int?
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @default(now())
+}
+
+model Thought {
+  id          Int      @default(autoincrement()) @id
+  description String
+  User        User?    @relation(fields: [userId], references: [id])
+  userId      Int?
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @default(now())
+}
+
+model Todo {
+  id          Int      @default(autoincrement()) @id
+  title       String   @unique
+  description String
+  completed   Boolean  @default(false)
+  User        User?    @relation(fields: [userId], references: [id])
+  userId      Int?
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @default(now())
+}
+
+model Exercise {
+  id          Int      @default(autoincrement()) @id
+  title       String
+  description String?
+  image       String
+  weight      Int?
+  User        User?    @relation(fields: [userId], references: [id])
+  userId      Int?
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @default(now())
+}
```


